<div class="my-5 container">
    <h2 class="text-center mb-5">Tour giờ chót, nhanh tay k là hết</h2>
    <div class="d-flex">
        <div>
            <select class="form-select" aria-label="Default select example" (change)="filterRegion($event)">
                <option value="" selected>** Chọn vùng ** </option>
                <option value="miền Bắc">miền Bắc</option>
                <option value="miền Trung">miền Trung</option>
                <option value="miền Nam">miền Nam</option>
            </select>
        </div>
        <div style="margin-left: 10px;">
            <select class="form-select" aria-label="Default select example" (change)="sortByPrice($event)">
                <option value="" selected>** Chọn giá ** </option>
                <option value="asc">Từ thấp đến cao</option>
                <option value="desc">Từ cao xuống thấp</option>
            </select>
        </div>
        <div style="margin-left: 10px;">
            <input placeholder="Tìm kiếm sản phẩm" type="email" class="form-control" id="exampleInputEmail1"
                (input)="searchProduct($event)" aria-describedby="emailHelp">
        </div>
    </div>
    <div *ngIf="paginatedProducts.length > 0; else loading" class="row">
        <div *ngFor="let product of paginatedProducts" class="col-sm-3 mt-4">
            <div class="card">
                <a class="position-relative" [routerLink]="['/detail', product.id]">
                    <img [src]="product.image" width="100%" alt="{{product.name}}">
                    <div class="position-absolute top-0 end-0 bg-primary text-white p-2">Deal hè HOT cực</div>
                    <div class="position-absolute start-0 bottom-0 bg-danger text-white p-2 m-3">00 ngày 00:00:00</div>
                </a>
                <div class="bg-info p-2">
                    <span><i class="bi bi-geo-alt-fill"></i></span>{{product.address}}
                </div>
                <span class="mt-2 px-3">{{product.name}}</span>
                <div class="card-body d-flex justify-content-between">
                    <div>
                        <p><i class="bi bi-stopwatch-fill"></i>{{product.duration}}</p>
                        <p><i class="bi bi-pin-map-fill"></i>{{product.category}}</p>
                    </div>
                    <div>
                        <i class="bi bi-train-front-fill"></i>
                    </div>
                </div>
                <div class="card-footer">
                    <span><del>{{product.presale | currency: 'VND'}}</del></span>
                    <span class="text-primary" style="margin-left: 12px;"><strong>{{product.price | currency:
                            'VND'}}</strong></span>
                </div>
            </div>
        </div>
    </div>
    <mat-paginator class="pt-4" [length]="totalItems" [pageSize]="pageSize" [pageIndex]="currentPage"
        (page)="pageChange($event)" showFirstLastButtons aria-label="Select page"></mat-paginator>
    <ng-template #loading>
        Loading...
    </ng-template>
</div>